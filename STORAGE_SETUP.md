# üì∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Supabase Storage

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

–°–æ–∑–¥–∞—Ç—å bucket `products` –≤ Supabase Storage –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏.

---

## üìù –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **https://zijajicude.beget.app**
2. –í–æ–π–¥–∏—Ç–µ: `arteco` / `8926416Salavat1996s@`
3. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor**

---

## üìã –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç:

```sql
-- –°–æ–∑–¥–∞–µ–º bucket –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
INSERT INTO storage.buckets (id, name, public)
VALUES ('products', 'products', true)
ON CONFLICT (id) DO NOTHING;

-- –ü–æ–ª–∏—Ç–∏–∫–∞: –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
CREATE POLICY IF NOT EXISTS "–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Ç–æ–≤–∞—Ä–æ–≤" ON storage.objects
    FOR SELECT USING (bucket_id = 'products');

-- –ü–æ–ª–∏—Ç–∏–∫–∞: –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
CREATE POLICY IF NOT EXISTS "–†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤" ON storage.objects
    FOR INSERT WITH CHECK (bucket_id = 'products');

-- –ü–æ–ª–∏—Ç–∏–∫–∞: –†–∞–∑—Ä–µ—à–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
CREATE POLICY IF NOT EXISTS "–†–∞–∑—Ä–µ—à–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤" ON storage.objects
    FOR UPDATE USING (bucket_id = 'products');

-- –ü–æ–ª–∏—Ç–∏–∫–∞: –†–∞–∑—Ä–µ—à–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
CREATE POLICY IF NOT EXISTS "–†–∞–∑—Ä–µ—à–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤" ON storage.objects
    FOR DELETE USING (bucket_id = 'products');
```

–ù–∞–∂–º–∏—Ç–µ **Run** üöÄ

---

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ bucket:**
```sql
SELECT * FROM storage.buckets WHERE name = 'products';
```

–î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∞ —Å bucket `products`.

---

## üß™ –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: **http://localhost:8000/admin/products.html**
2. –ù–∞–∂–º–∏—Ç–µ **"+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–æ–ª–µ **"–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"**
5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–µ–≤—å—é
6. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –≤ Supabase Storage
- ‚úÖ URL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î
- ‚úÖ –¢–æ–≤–∞—Ä –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

---

## üì∏ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–í—ã–±–æ—Ä —Ñ–∞–π–ª–∞** ‚Äî –∫–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
2. **–ü—Ä–µ–≤—å—é** ‚Äî –ø–æ–∫–∞–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (–º–∞–∫—Å 5MB)
4. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ Storage** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ URL** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

### üí° –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –¥–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª** ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç–µ —Ñ–∞–π–ª —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
2. **URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### –û—à–∏–±–∫–∞: "bucket does not exist"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ SQL —Å–∫—Ä–∏–ø—Ç –≤—ã—à–µ.

### –û—à–∏–±–∫–∞: "new row violates row-level security policy"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –≤ SQL Editor.

### –ü—Ä–µ–≤—å—é –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏.

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Storage:

```
products/
‚îú‚îÄ‚îÄ products/1738123456_abc123_product1.jpg
‚îú‚îÄ‚îÄ products/1738123457_def456_product2.png
‚îî‚îÄ‚îÄ ...
```

–ö–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º: `timestamp_random_hash_filename`

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Storage:
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–∞–≥–∞–∑–∏–Ω–∞
- ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

**–¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º! üöÄ**

