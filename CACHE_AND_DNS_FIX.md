# КРИТИЧНО: Сайт работает только на вашем WiFi

## Проблема
Сайт работает только на вашем WiFi, но не работает на других устройствах и мобильном интернете.

## Возможные причины

### 1. Кеш Vercel CDN
Vercel кеширует старую версию сайта для других локаций.

**Решение:**
1. Зайдите в Vercel Dashboard → ваш проект → Settings → General
2. Найдите секцию **"Build & Development Settings"**
3. Нажмите **"Redeploy"** последнего деплоя с опцией **"Use existing Build Cache"** = OFF
4. ИЛИ создайте новый деплой, нажав на кнопку **"Redeploy"** → **"Redeploy without cache"**

### 2. Кеш браузера на вашем устройстве
Ваш браузер кеширует старую версию сайта.

**Решение:**
1. Очистите кеш браузера (Ctrl+Shift+Delete или Cmd+Shift+Delete)
2. ИЛИ используйте режим инкогнито/приватный режим
3. ИЛИ откройте сайт с параметром `?v=2` или `?_t=${Date.now()}`

### 3. DNS кеш
Ваш WiFi использует кешированный DNS, другие устройства нет.

**Решение:**
1. На проблемном устройстве очистите DNS кеш:
   - **Android:** Настройки → Приложения → Браузер → Очистить данные → Очистить кеш
   - **iOS:** Настройки → Safari → Очистить историю и данные
2. ИЛИ используйте другой DNS сервер (например, Google DNS: 8.8.8.8)

### 4. Vercel не применил изменения
Возможно, изменения не применились, даже если переменные обновлены.

**Решение:**
1. Зайдите в Vercel Dashboard → Deployments
2. Убедитесь, что последний деплой **успешен** (зеленая галочка)
3. Если деплой старый, создайте новый коммит или нажмите **"Redeploy"**
4. Проверьте логи последнего деплоя - убедитесь, что нет ошибок

### 5. Проверка на проблемном устройстве

**Шаг 1: Откройте консоль браузера**
- На мобильном устройстве используйте удаленную отладку:
  - **Chrome:** chrome://inspect (на компьютере)
  - **Safari:** Настройки → Advanced → Web Inspector (на Mac)
- ИЛИ используйте инструменты разработчика в браузере (если доступны)

**Шаг 2: Проверьте Network запросы**
- Откройте вкладку **Network**
- Обновите страницу
- Проверьте, куда идут запросы:
  - Должны идти к вашему новому Supabase URL (например, `xxxxx.supabase.co`)
  - НЕ должны идти к `zijajicude.beget.app`

**Шаг 3: Проверьте Console**
- Откройте вкладку **Console**
- Проверьте ошибки:
  - Если видите "❌ КРИТИЧЕСКАЯ ОШИБКА: NEXT_PUBLIC_SUPABASE_URL..." - переменные не установлены
  - Если видите "Failed to fetch" или CORS ошибки - проблема с подключением к Supabase

### 6. Принудительная очистка кеша Vercel

Если ничего не помогает, попробуйте:

1. **Создайте новый коммит:**
   ```bash
   git commit --allow-empty -m "Force redeploy"
   git push
   ```

2. **ИЛИ в Vercel Dashboard:**
   - Settings → General → Clear Build Cache
   - Затем Redeploy

### 7. Проверка переменных окружения на Vercel (еще раз)

Убедитесь, что:
- ✅ `NEXT_PUBLIC_SUPABASE_URL` установлен и НЕ содержит `zijajicude.beget.app`
- ✅ `NEXT_PUBLIC_SUPABASE_ANON_KEY` установлен
- ✅ `SUPABASE_SERVICE_ROLE_KEY` установлен
- ✅ Переменные установлены для **Production**
- ✅ После изменения переменных был выполнен **Redeploy**

## Быстрая диагностика

1. Откройте сайт на проблемном устройстве в режиме инкогнито
2. Откройте DevTools (если возможно)
3. Проверьте Console - какие ошибки там?
4. Проверьте Network - куда идут запросы?

Сообщите, что видите в консоли и Network tab.
