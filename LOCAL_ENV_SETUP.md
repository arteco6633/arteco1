# Настройка переменных окружения для локальной разработки

## Важно для локальной разработки

Для работы T-Bank платежей на локальном сервере (`localhost:3000`) нужно использовать **локальный URL**, а не продакшн.

## Правильная настройка `.env.local`:

```env
# Для локальной разработки используйте:
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# НЕ используйте продакшн URL для локальной разработки:
# NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru/
```

## Почему это важно?

1. **Callback URL**: T-Bank отправляет уведомления на `NotificationURL`. Если указан продакшн URL, callback не дойдет до локального сервера.

2. **Redirect URLs**: После оплаты пользователь будет перенаправлен на `SuccessURL` или `FailURL`. Если указан продакшн URL, он попадет на продакшн сайт, а не на локальный.

3. **Валидация**: T-Bank может проверять соответствие домена запроса и URL в параметрах.

## Для продакшена (Vercel)

В Vercel используйте продакшн URL:
```env
NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru
```

⚠️ **Важно:** Без слеша в конце!

## Быстрое переключение

Можно создать два файла:
- `.env.local` - для локальной разработки
- `.env.production` - для продакшена (не коммитить в Git!)

Или просто менять значение `NEXT_PUBLIC_SITE_URL` в зависимости от окружения.


## Важно для локальной разработки

Для работы T-Bank платежей на локальном сервере (`localhost:3000`) нужно использовать **локальный URL**, а не продакшн.

## Правильная настройка `.env.local`:

```env
# Для локальной разработки используйте:
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# НЕ используйте продакшн URL для локальной разработки:
# NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru/
```

## Почему это важно?

1. **Callback URL**: T-Bank отправляет уведомления на `NotificationURL`. Если указан продакшн URL, callback не дойдет до локального сервера.

2. **Redirect URLs**: После оплаты пользователь будет перенаправлен на `SuccessURL` или `FailURL`. Если указан продакшн URL, он попадет на продакшн сайт, а не на локальный.

3. **Валидация**: T-Bank может проверять соответствие домена запроса и URL в параметрах.

## Для продакшена (Vercel)

В Vercel используйте продакшн URL:
```env
NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru
```

⚠️ **Важно:** Без слеша в конце!

## Быстрое переключение

Можно создать два файла:
- `.env.local` - для локальной разработки
- `.env.production` - для продакшена (не коммитить в Git!)

Или просто менять значение `NEXT_PUBLIC_SITE_URL` в зависимости от окружения.


## Важно для локальной разработки

Для работы T-Bank платежей на локальном сервере (`localhost:3000`) нужно использовать **локальный URL**, а не продакшн.

## Правильная настройка `.env.local`:

```env
# Для локальной разработки используйте:
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# НЕ используйте продакшн URL для локальной разработки:
# NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru/
```

## Почему это важно?

1. **Callback URL**: T-Bank отправляет уведомления на `NotificationURL`. Если указан продакшн URL, callback не дойдет до локального сервера.

2. **Redirect URLs**: После оплаты пользователь будет перенаправлен на `SuccessURL` или `FailURL`. Если указан продакшн URL, он попадет на продакшн сайт, а не на локальный.

3. **Валидация**: T-Bank может проверять соответствие домена запроса и URL в параметрах.

## Для продакшена (Vercel)

В Vercel используйте продакшн URL:
```env
NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru
```

⚠️ **Важно:** Без слеша в конце!

## Быстрое переключение

Можно создать два файла:
- `.env.local` - для локальной разработки
- `.env.production` - для продакшена (не коммитить в Git!)

Или просто менять значение `NEXT_PUBLIC_SITE_URL` в зависимости от окружения.


## Важно для локальной разработки

Для работы T-Bank платежей на локальном сервере (`localhost:3000`) нужно использовать **локальный URL**, а не продакшн.

## Правильная настройка `.env.local`:

```env
# Для локальной разработки используйте:
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# НЕ используйте продакшн URL для локальной разработки:
# NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru/
```

## Почему это важно?

1. **Callback URL**: T-Bank отправляет уведомления на `NotificationURL`. Если указан продакшн URL, callback не дойдет до локального сервера.

2. **Redirect URLs**: После оплаты пользователь будет перенаправлен на `SuccessURL` или `FailURL`. Если указан продакшн URL, он попадет на продакшн сайт, а не на локальный.

3. **Валидация**: T-Bank может проверять соответствие домена запроса и URL в параметрах.

## Для продакшена (Vercel)

В Vercel используйте продакшн URL:
```env
NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru
```

⚠️ **Важно:** Без слеша в конце!

## Быстрое переключение

Можно создать два файла:
- `.env.local` - для локальной разработки
- `.env.production` - для продакшена (не коммитить в Git!)

Или просто менять значение `NEXT_PUBLIC_SITE_URL` в зависимости от окружения.


## Важно для локальной разработки

Для работы T-Bank платежей на локальном сервере (`localhost:3000`) нужно использовать **локальный URL**, а не продакшн.

## Правильная настройка `.env.local`:

```env
# Для локальной разработки используйте:
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# НЕ используйте продакшн URL для локальной разработки:
# NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru/
```

## Почему это важно?

1. **Callback URL**: T-Bank отправляет уведомления на `NotificationURL`. Если указан продакшн URL, callback не дойдет до локального сервера.

2. **Redirect URLs**: После оплаты пользователь будет перенаправлен на `SuccessURL` или `FailURL`. Если указан продакшн URL, он попадет на продакшн сайт, а не на локальный.

3. **Валидация**: T-Bank может проверять соответствие домена запроса и URL в параметрах.

## Для продакшена (Vercel)

В Vercel используйте продакшн URL:
```env
NEXT_PUBLIC_SITE_URL=https://www.arteeeco.ru
```

⚠️ **Важно:** Без слеша в конце!

## Быстрое переключение

Можно создать два файла:
- `.env.local` - для локальной разработки
- `.env.production` - для продакшена (не коммитить в Git!)

Или просто менять значение `NEXT_PUBLIC_SITE_URL` в зависимости от окружения.

